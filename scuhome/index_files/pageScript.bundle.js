(()=>{"use strict";const e=e=>{if(!e)return!1;const t=["checkbox","radio"];return!(!("type"in e)||!t.includes(e.type))||t.includes(e.role)},t=e=>{window.postMessage({action:"__simplify__updateFilledInput",...e},"*")},n={react:n=>{let{keyPath:o,containerPath:l,inputPath:u,inputIndex:i,value:r,eventOptions:a}=n;try{var d,s;const n=null===(d=document.evaluate(l,document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===d?void 0:d.snapshotItem(0),c=null===(s=document.evaluate(u,n||document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===s?void 0:s.snapshotItem(i);if(!c)throw new Error("Input not found.");const h=Object.keys(c).find((e=>/^__reactProps/.test(e)));if(!h)throw new Error("No React event handlers!");const E=(e,t,n)=>{try{var o;const l=new e(t,a);Object.defineProperty(l,"target",{writable:!1,value:c}),Object.defineProperty(l,"currentTarget",{writable:!1,value:c}),c.dispatchEvent(l),(null===(o=c[h])||void 0===o?void 0:o[n])&&(l.nativeEvent=l,c[h][n](l))}catch(e){}};if(c instanceof HTMLSelectElement)return E(FocusEvent,"focus","onFocus"),E(MouseEvent,"click","onClick"),c.value=r,E(InputEvent,"input","onInput"),E(Event,"change","onChange"),E(FocusEvent,"blur","onBlur"),void t({keyPath:o,filled:!0});if(c instanceof HTMLButtonElement||["button"].includes(c.role))return E(FocusEvent,"focus","onFocus"),E(MouseEvent,"mousedown","onMouseDown"),E(MouseEvent,"mouseup","onMouseUp"),E(MouseEvent,"click","onClick"),E(FocusEvent,"blur","onBlur"),void t({keyPath:o,filled:!0});if(e(c)){if(void 0===r&&(r=!0),!(c instanceof HTMLInputElement)){if(e(c))return r&&(E(FocusEvent,"focus","onFocus"),E(MouseEvent,"click","onClick"),E(Event,"change","onChange"),E(FocusEvent,"blur","onBlur")),void t({keyPath:o,filled:!0});throw new Error("Input is not an HTMLInputElement!")}return!r&&!c.checked||r&&c.checked||(E(FocusEvent,"focus","onFocus"),E(MouseEvent,"click","onClick"),c.checked=Boolean(r),E(InputEvent,"input","onInput"),E(Event,"change","onChange"),E(FocusEvent,"blur","onBlur")),void t({keyPath:o,filled:!0})}if(c instanceof HTMLInputElement||c instanceof HTMLTextAreaElement)return E(FocusEvent,"focus","onFocus"),E(MouseEvent,"click","onClick"),E(KeyboardEvent,"keydown","onKeyDown"),E(KeyboardEvent,"keypress","onKeyPress"),c.value=r,c.setAttribute("value",r),E(InputEvent,"input","onInput"),E(KeyboardEvent,"keyup","onKeyUp"),E(Event,"change","onChange"),E(FocusEvent,"blur","onBlur"),void t({keyPath:o,filled:!0});throw new Error("Unknown input type!")}catch(e){t({keyPath:o,error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}},reactClick:e=>{let{keyPath:n,containerPath:o,inputPath:l,inputIndex:u,eventOptions:i}=e;try{var r,a;const e=null===(r=document.evaluate(o,document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===r?void 0:r.snapshotItem(0),d=null===(a=document.evaluate(l,e||document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===a?void 0:a.snapshotItem(u);if(!d)throw new Error("Input not found.");try{const e=Object.keys(d).find((e=>/^__reactProps/.test(e)));if(!e)throw new Error("React props key not found!");if(!d[e].onClick)throw new Error("Click handler not found!");const t=new MouseEvent("click",i);Object.defineProperty(t,"target",{writable:!1,value:d}),Object.defineProperty(t,"currentTarget",{writable:!1,value:d}),nativeEvent.nativeEvent=nativeEvent,d[e].onClick(t)}catch(e){}t({keyPath:n,filled:!0})}catch(e){t({keyPath:n,error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}},tptEnableResume:e=>{let{keyPath:n}=e;try{if(!window.tpt)throw new Error("No tpt!");window.tpt.uploadResume.updateAcceptedFieldMode("file"),window.tpt.uploadResume.uploadResumeInputShower("file"),window.tpt.uploadResume.showUploadFileError(!1),window.tpt.uploadResume.checkFilledResumeFile()?window.tpt.uploadResume.toggleUploadResumeNextButton(!0):window.tpt.uploadResume.toggleUploadResumeNextButton(!1),t({keyPath:n,filled:!0})}catch(e){t({keyPath:n,error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}},jQuery:n=>{let{keyPath:o,containerPath:l,inputPath:u,inputIndex:i,value:r,event:a,eventOptions:d}=n;try{var s,c;if(!window.jQuery)throw new Error("No jQuery!");const n=null===(s=document.evaluate(l,document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===s?void 0:s.snapshotItem(0),h=null===(c=document.evaluate(u,n||document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===c?void 0:c.snapshotItem(i);if(!h)throw new Error("Input not found.");try{if(a)window.jQuery(h).trigger(a,d);else if(h instanceof HTMLSelectElement){if(void 0===r)throw new Error("Value is undefined!");window.jQuery(h).trigger("focus").trigger("click").val(r).trigger("input").trigger("change")}else if(e(h))window.jQuery(h).trigger("focus").trigger("click").prop("checked",Boolean(r)).trigger("input").trigger("change");else{if(void 0===r)throw new Error("Value is undefined!");window.jQuery(h).trigger("focus").trigger("click").trigger("keydown").trigger("keypress").val(r).trigger("input").trigger("keyup").trigger("change")}}catch(e){if(!a&&window.jQuery(h).val()!==r)throw new Error("Failed to set value!")}t({keyPath:o,filled:!0})}catch(e){t({keyPath:o,error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}},dijit:e=>{let{keyPath:n,containerPath:o,inputPath:l,inputIndex:u,value:i}=e;try{var r,a;if(!window.dijit)throw new Error("No dijit!");const e=null===(r=document.evaluate(o,document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===r?void 0:r.snapshotItem(0),d=null===(a=document.evaluate(l,e||document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===a?void 0:a.snapshotItem(u);if(!d)throw new Error("Input not found.");if(void 0===i)throw new Error("Value is undefined!");const s=[].concat(i);let c=!1;try{for(let e=0;e<s.length;e+=1)if(window.dijit.getEnclosingWidget(d).set("value",s[e]),window.dijit.getEnclosingWidget(d).get("value")===s[e]){c=!0;break}if(!c)throw new Error("Unable to confirm value was set!")}catch(e){}t({keyPath:n,filled:!0})}catch(e){t({keyPath:n,error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}},tinyMCE:e=>{let{keyPath:n,containerPath:o,inputPath:l,inputIndex:u,value:i}=e;try{var r,a;if(!window.tinyMCE)throw new Error("No tinyMCE!");const e=null===(r=document.evaluate(o,document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===r?void 0:r.snapshotItem(0),d=null===(a=document.evaluate(l,e||document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===a?void 0:a.snapshotItem(u);if(!d)throw new Error("Input not found.");if(void 0===i)throw new Error("Value is undefined!");const s=[].concat(i);let c=!1;try{for(let e=0;e<s.length;e+=1)if(window.tinyMCE.get(d.id).setContent(s[e]),window.tinyMCE.get(d.id).getContent()===s[e]){c=!0;break}if(!c)throw new Error("Unable to confirm value was set!")}catch(e){}t({keyPath:n,filled:!0})}catch(e){t({keyPath:n,error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}}};window.addEventListener("message",(e=>{var t;e.source===window&&"__simplify__fillInput"===(null===(t=e.data)||void 0===t?void 0:t.action)&&n[e.data.method]&&n[e.data.method](e.data)}),!1);const o=e=>{window.postMessage({action:"__simplify__updateTrackedInput",...e},"*")},l=e=>[].concat(e||["./parent::*//text()","./parent::*/parent::*//text()","./parent::*/parent::*/parent::*//text()",'.//ancestor::*[string-length(normalize-space(translate(text(), "Â ", " "))) > 0]//text()']),u=e=>{let{field:t,inputPath:n,inputValuePath:o,inputValuePathArray:u=l(o)}=e;const i=[],r=document.evaluate(n,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0;e<r.snapshotLength;e+=1){const t=r.snapshotItem(e);if(null==t?void 0:t.checked){let e=t.value||"";for(let n=0;n<u.length;n+=1){const o=document.evaluate(u[n],t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let t=0;t<o.snapshotLength;t+=1){var a,d;if(e=null===(a=o.snapshotItem(t))||void 0===a||null===(d=a.nodeValue)||void 0===d?void 0:d.trim(),e)break}if(e)break}e&&i.push(e)}}return i},i=e=>{let{field:t,inputPath:n,inputValuePath:o,inputValuePathArray:u=l(o)}=e;const i=[],r=document.evaluate(n,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0;e<r.snapshotLength;e+=1){const t=r.snapshotItem(e);let n="";for(let e=0;e<u.length;e+=1){const o=document.evaluate(u[e],t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let e=0;e<o.snapshotLength;e+=1){var a,d;if(n=null===(a=o.snapshotItem(e))||void 0===a||null===(d=a.nodeValue)||void 0===d?void 0:d.trim(),n)break}if(n)break}n&&i.push(n)}return i},r={jQuery:t=>{let{suid:n,containerPath:l,fieldPath:r,fieldIndex:a,labelPath:d,inputPath:s,inputValuePath:c}=t;try{if(!window.jQuery)throw new Error("No jQuery!");const{field:t,input:h}=(e=>{let{containerPath:t,fieldPath:n,fieldIndex:o,labelPath:l,inputPath:u}=e;var i,r,a,d;const s=null===(i=document.evaluate(t,document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===i?void 0:i.snapshotItem(0),c=null===(r=document.evaluate(n,s||document.documentElement,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===r?void 0:r.snapshotItem(o);if(!c)throw new Error("Field not found.");const h=null===(a=document.evaluate(l,c,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===a?void 0:a.snapshotItem(0);if(!h)throw new Error("Label not found.");const E=null===(d=document.evaluate(u,c,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null))||void 0===d?void 0:d.snapshotItem(0);if(!E)throw new Error("Input not found.");return{container:s,field:c,label:h,input:E}})({containerPath:l,fieldPath:r,fieldIndex:a,labelPath:d,inputPath:s});if(h instanceof HTMLSelectElement){const e=()=>window.jQuery(h).find([].concat(c||"option:selected").join(", ")).text().trim()||window.jQuery(h).val();window.jQuery(h).off("change.__simplify__trackInput"),window.jQuery(h).on("change.__simplify__trackInput",(()=>{o({suid:n,inputValue:e()})}))}else if(e(h)){const e=document.evaluate(s,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);for(let l=0;l<e.snapshotLength;l+=1){const r=e.snapshotItem(l);window.jQuery(r).off("change.__simplify__trackInput"),window.jQuery(r).on("change.__simplify__trackInput",(()=>{o({suid:n,inputValue:u({field:t,inputPath:s,inputValuePath:c}),options:i({field:t,inputPath:s,inputValuePath:c})})}))}}else{const e=()=>c&&window.jQuery(t).find([].concat(c).join(", ")).text().trim()||window.jQuery(h).val();window.jQuery(h).off("change.__simplify__trackInput"),window.jQuery(h).on("change.__simplify__trackInput",(()=>{o({suid:n,inputValue:e()})}))}}catch(e){o({suid:n,status:"error",error:(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Unknown error"})}}};window.addEventListener("message",(e=>{var t;e.source===window&&"__simplify__trackInput"===(null===(t=e.data)||void 0===t?void 0:t.action)&&r[e.data.method]&&r[e.data.method](e.data)}),!1)})();